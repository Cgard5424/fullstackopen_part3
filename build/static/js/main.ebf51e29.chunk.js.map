{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Persons","_ref","name","deletePerson","react_default","a","createElement","number","value","id","onClick","Filter","props","newFilter","onChange","handleFilterChange","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","baseURL","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","notificationType","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","showAll","setShowAll","_useState11","_useState12","newMessage","setNewMessage","_useState13","_useState14","newMessageType","setNewMessageType","useEffect","personService","initialPersons","updateNumber","person_object","oldPerson","returnedPerson","map","person","catch","error","setTimeout","numbersToShow","filter","toLowerCase","includes","components_Notification","components_Filter","event","target","length","components_PersonForm","preventDefault","nameObject","some","window","confirm","components_Persons","key","newPersons","p","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ebf51e29.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Persons = ({ name, deletePerson }) => {\n    return(\n      <div>\n        {name.name} {name.number} <button value={name.id} onClick={deletePerson}>delete</button>\n      </div>\n    )\n  }\n\nexport default Persons","import React from \"react\"\n\nconst Filter = (props) => {\n    return(\n     <div>\n        filter shown with<input\n            value={props.newFilter}\n            onChange={props.handleFilterChange}\n        />\n    </div>\n    )\n  }\n\nexport default Filter","import React from \"react\"\n\nconst PersonForm = (props) => {\n    return(\n      <form onSubmit={props.addName}>\n        <div>\n          name: <input \n            value={props.newName}\n            onChange={props.handleNameChange}\n          />\n        </div>\n        <div>\n          number: <input \n            value={props.newNumber}\n            onChange={props.handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import axios from \"axios\";\n// const baseURL = 'http://localhost:3001/api/persons'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseURL, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseURL}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove}","import React from \"react\"\n\nconst Notification = ({ message, notificationType }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={notificationType}>\n            {message}\n        </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [newMessage, setNewMessage] = useState(null)\n  const [newMessageType, setNewMessageType] = useState('success')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      id: newName,\n      number: newNumber\n    }\n\n    if (!persons.some(person => person.name === newName)) {\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n      \n      setNewMessage(`Added ${newName}`)\n      setTimeout(() => {\n        setNewMessage(null)\n      }, 5000)\n    }\n\n    else {\n      if (window.confirm(`${newName} is already added to phonebook. Replace the older number with a new one?`)) {\n        updateNumber(nameObject)\n        setNewName('')\n        setNewNumber('')\n        setNewMessageType('success')\n        setNewMessage(`Number for ${newName} has been updated`)\n        setTimeout(() => {\n          setNewMessage(null)\n      }, 5000)\n      }\n    }\n  }\n\n  const updateNumber = (person_object) => {\n    const oldPerson = person_object\n\n    personService\n      .update(person_object.id, person_object)\n      .then(returnedPerson => {\n        setPersons(\n          persons.map(person => \n            person.id !== oldPerson.id ? person : returnedPerson\n          )\n        )\n      })\n      .catch(error => {\n        setNewMessageType('error')\n        setNewMessage(`Information of ${oldPerson.name} has already been removed from the server`)\n        setTimeout(() => {\n          setNewMessage(null)\n      }, 5000)\n      })\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)){\n      personService\n      .remove(id)\n      .then(() => {\n        const newPersons = persons.filter(p => p.id !== id)\n        setPersons(newPersons)\n      })\n      .catch(error => {\n        setNewMessageType('error')\n        setNewMessage(`Information of ${name} has already been removed from the server`)\n        setTimeout(() => {\n          setNewMessage(null)\n      }, 5000)\n      })\n      setNewMessageType('success')\n      setNewMessage(`${name} successfully removed from the server`)\n      setTimeout(() => {\n        setNewMessage(null)\n    }, 5000)\n    }\n  }\n\n  const numbersToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()) === true)\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    if (event.target.value.length === 0) {\n      //\n      setShowAll(true)\n      setNewFilter('')\n    }\n    else {\n      setShowAll(false)\n      setNewFilter(event.target.value)\n    }\n    \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={newMessage} notificationType={newMessageType}/>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n\n      <h3>add a new</h3>\n\n      <PersonForm \n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}  \n      />\n\n      <h3>Numbers</h3>\n\n      {numbersToShow.map(name =>\n        <Persons key={name.id} name={name} deletePerson={() => deletePerson(name.id, name.name)}/>\n        )}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}