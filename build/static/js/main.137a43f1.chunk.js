(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){},26:function(e,n,t){e.exports=t(52)},52:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(25),o=t.n(c),u=(t(14),t(2)),l=t(6),i=t(54),m=function(e){var n=e.name,t=e.deletePerson;return r.a.createElement("div",{className:"Persons"},n.name," ",n.number,r.a.createElement(i.a,{variant:"primary",type:"submit",value:n.id,onClick:t},"delete"))},s=t(53),d=function(e){return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(s.a.Label,null,"filter names shown with:"),r.a.createElement(s.a.Control,{type:"text",value:e.newFilter,onChange:e.handleFilterChange})))},f=function(e){return r.a.createElement("div",null,r.a.createElement(s.a,{onSubmit:e.addName},r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,"name:"),r.a.createElement(s.a.Control,{type:"text",value:e.newName,onChange:e.handleNameChange}),r.a.createElement(s.a.Label,null,"number:"),r.a.createElement(s.a.Control,{type:"text",value:e.newNumber,onChange:e.handleNumberChange}),r.a.createElement(i.a,{variant:"primary",type:"submit"},"add"))))},h=t(10),b=t.n(h),p="/api/persons",v=function(){return b.a.get(p).then(function(e){return e.data})},E=function(e){return b.a.post(p,e).then(function(e){return e.data})},w=function(e,n){return b.a.put("".concat(p,"/").concat(e),n).then(function(e){return e.data})},g=function(e){return b.a.delete("".concat(p,"/").concat(e)).then(function(e){return e.data})},N=function(e){var n=e.message,t=e.notificationType;return null===n?null:r.a.createElement("div",{className:t},n)},j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],h=i[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),j=p[0],O=p[1],C=Object(a.useState)(""),y=Object(l.a)(C,2),T=y[0],S=y[1],k=Object(a.useState)(!0),L=Object(l.a)(k,2),x=L[0],F=L[1],P=Object(a.useState)(null),A=Object(l.a)(P,2),D=A[0],I=A[1],J=Object(a.useState)("success"),B=Object(l.a)(J,2),G=B[0],M=B[1];Object(a.useEffect)(function(){v().then(function(e){c(e)})},[]);var R=function(){var e=t.find(function(e){return e.name===s}),n=Object(u.a)({},e,{number:j});w(e.id,n).then(function(e){c(t.map(function(n){return n.id!==e.id?n:e}))}).catch(function(e){console.log(e.response.data.error),M("error"),I(e.response.data.error),setTimeout(function(){I(null)},5e3)})},q=x?t:t.filter(function(e){return!0===e.name.toLowerCase().includes(T.toLowerCase())});return r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"title"},"Phonebook"),r.a.createElement(N,{message:D,notificationType:G}),r.a.createElement(d,{newFilter:T,handleFilterChange:function(e){0===e.target.value.length?(F(!0),S("")):(F(!1),S(e.target.value))}}),r.a.createElement("h3",{className:"headers"},"Add a new:"),r.a.createElement(f,{addName:function(e){e.preventDefault();var n={name:s,number:j};s?j?t.some(function(e){return e.name===s})?window.confirm("".concat(s," is already added to phonebook. Replace the older number with a new one?"))&&(R(),h(""),O(""),M("success"),I("Number for ".concat(s," has been updated")),setTimeout(function(){I(null)},5e3)):E(n).then(function(e){c(t.concat(e)),h(""),O(""),M("success"),I("Added ".concat(s)),setTimeout(function(){I(null)},5e3)}).catch(function(e){M("error"),I(e.response.data.error),setTimeout(function(){I(null)},5e3)}):(M("error"),I("Error: no number was provided"),setTimeout(function(){I(null)},5e3)):(M("error"),I("Error: no name was provided"),setTimeout(function(){I(null)},5e3))},newName:s,handleNameChange:function(e){h(e.target.value)},newNumber:j,handleNumberChange:function(e){O(e.target.value)}}),r.a.createElement("h3",{className:"headers"},"Numbers"),q.map(function(e){return r.a.createElement(m,{key:e.id,name:e,deletePerson:function(){return function(e,n){window.confirm("Delete ".concat(n,"?"))&&g(e).then(function(){var a=t.filter(function(n){return n.id!==e});c(a),M("success"),I("".concat(n," successfully removed from the server")),setTimeout(function(){I(null)},5e3)}).catch(function(e){M("error"),I("Information of ".concat(n," has already been removed from the server")),setTimeout(function(){I(null)},5e3)})}(e.id,e.name)}})}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.137a43f1.chunk.js.map