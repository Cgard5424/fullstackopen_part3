{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Persons","_ref","name","deletePerson","react_default","a","createElement","className","number","Button","variant","type","value","id","onClick","Filter","props","Form","Label","Control","newFilter","onChange","handleFilterChange","PersonForm","onSubmit","addName","Group","newName","handleNameChange","newNumber","handleNumberChange","baseURL","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","notificationType","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","showAll","setShowAll","_useState11","_useState12","newMessage","setNewMessage","_useState13","_useState14","newMessageType","setNewMessageType","useEffect","personService","initialPersons","updateNumber","person","find","updatedPerson","objectSpread","returnedPerson","map","catch","error","console","log","setTimeout","numbersToShow","filter","toLowerCase","includes","components_Notification","components_Filter","event","target","length","components_PersonForm","preventDefault","nameObject","some","window","confirm","components_Persons","key","newPersons","p","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.137a43f1.chunk.js","sourcesContent":["import React from \"react\"\nimport { Table, Button } from 'react-bootstrap'\nimport '../index.css'\n\nconst Persons = ({ name, deletePerson }) => {\n    return(\n      <div className=\"Persons\">\n        {name.name} {name.number}\n        <Button variant=\"primary\" type=\"submit\" value={name.id} onClick={deletePerson}>\n          delete\n        </Button>\n      </div>\n    )\n  }\n\nexport default Persons","import React from \"react\"\nimport { Form } from 'react-bootstrap'\n\nconst Filter = (props) => {\n    return(\n      <div>\n        <Form>\n          <Form.Label>filter names shown with:</Form.Label>\n          <Form.Control\n            type=\"text\"\n            value={ props.newFilter }\n            onChange={ props.handleFilterChange}\n          />\n        </Form>\n      </div>\n    )\n  }\n\nexport default Filter","import React from \"react\"\nimport { Form, Button } from 'react-bootstrap'\n\nconst PersonForm = (props) => {\n    return(\n      <div>\n        <Form onSubmit={props.addName}>\n          <Form.Group>\n            <Form.Label>name:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={props.newName}\n              onChange={props.handleNameChange}\n              //name=\"username\"\n            />\n            <Form.Label>number:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={props.newNumber}\n              onChange={props.handleNumberChange}\n            />\n            <Button variant=\"primary\" type=\"submit\">\n              add\n            </Button>\n          </Form.Group>\n        </Form>\n      </div>\n    )\n  }\n\nexport default PersonForm","import axios from 'axios'\n// const baseURL = 'http://localhost:3001/api/persons'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseURL)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseURL, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseURL}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from \"react\"\n\nconst Notification = ({ message, notificationType }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={ notificationType }>\n            {message}\n        </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [newMessage, setNewMessage] = useState(null)\n  const [newMessageType, setNewMessageType] = useState('success')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (!newName) {\n      setNewMessageType('error')\n      setNewMessage('Error: no name was provided')\n      setTimeout(() => {\n        setNewMessage(null)\n      }, 5000)\n    }\n\n    else if (!newNumber) {\n      setNewMessageType('error')\n      setNewMessage('Error: no number was provided')\n      setTimeout(() => {\n        setNewMessage(null)\n      }, 5000)\n    }\n\n    else if (!persons.some(person => person.name === newName)) {\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNewMessageType('success')\n          setNewMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setNewMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setNewMessageType('error')\n          setNewMessage(error.response.data.error)\n          setTimeout(() => {\n            setNewMessage(null)\n          }, 5000)\n        })\n    }\n\n    else {\n      if (window.confirm(`${newName} is already added to phonebook. Replace the older number with a new one?`)) {\n        updateNumber()\n        setNewName('')\n        setNewNumber('')\n        setNewMessageType('success')\n        setNewMessage(`Number for ${newName} has been updated`)\n        setTimeout(() => {\n          setNewMessage(null)\n        }, 5000)\n      }\n    }\n  }\n\n  const updateNumber = () => {\n    const person = persons.find(person => person.name === newName)\n    const updatedPerson = {\n      ...person,\n      number: newNumber\n    }\n\n    personService\n      .update(person.id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(\n          persons.map(person =>\n            person.id !== returnedPerson.id ? person : returnedPerson\n          )\n        )\n      })\n      .catch(error => {\n        console.log(error.response.data.error)\n        setNewMessageType('error')\n        setNewMessage(error.response.data.error)\n        setTimeout(() => {\n          setNewMessage(null)\n        }, 5000)\n      })\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)){\n      personService\n        .remove(id)\n        .then(() => {\n          const newPersons = persons.filter(p => p.id !== id)\n          setPersons(newPersons)\n          setNewMessageType('success')\n          setNewMessage(`${name} successfully removed from the server`)\n          setTimeout(() => {\n            setNewMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setNewMessageType('error')\n          setNewMessage(`Information of ${name} has already been removed from the server`)\n          setTimeout(() => {\n            setNewMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const numbersToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()) === true)\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    if (event.target.value.length === 0) {\n      //\n      setShowAll(true)\n      setNewFilter('')\n    }\n    else {\n      setShowAll(false)\n      setNewFilter(event.target.value)\n    }\n  }\n\n  return (\n    <div className='App'>\n      <h2 className='title'>Phonebook</h2>\n      <Notification message={newMessage} notificationType={newMessageType}/>\n      <Filter newFilter={newFilter} handleFilterChange={ handleFilterChange }/>\n\n      <h3 className='headers'>Add a new:</h3>\n\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3 className='headers'>Numbers</h3>\n      {numbersToShow.map(name =>\n        <Persons key={name.id} name={name} deletePerson={() => deletePerson(name.id, name.name)}/>\n      )}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}