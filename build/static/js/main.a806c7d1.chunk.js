(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(16),c=t.n(u),o=(t(7),t(17)),l=t(2),i=function(e){var n=e.name,t=e.deletePerson;return r.a.createElement("div",null,n.name," ",n.number," ",r.a.createElement("button",{value:n.id,onClick:t},"delete"))},m=function(e){return r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{value:e.newFilter,onChange:e.handleFilterChange}))},s=function(e){return r.a.createElement("form",{onSubmit:e.addName},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},d=t(3),f=t.n(d),h="/api/persons",b=function(){return f.a.get(h).then(function(e){return e.data})},v=function(e){return f.a.post(h,e).then(function(e){return e.data})},p=function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},E=function(e){return f.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},w=function(e){var n=e.message,t=e.notificationType;return null===n?null:r.a.createElement("div",{className:t},n)},g=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),d=Object(l.a)(c,2),f=d[0],h=d[1],g=Object(a.useState)(""),j=Object(l.a)(g,2),O=j[0],N=j[1],C=Object(a.useState)(""),T=Object(l.a)(C,2),S=T[0],y=T[1],k=Object(a.useState)(!0),F=Object(l.a)(k,2),P=F[0],D=F[1],I=Object(a.useState)(null),J=Object(l.a)(I,2),L=J[0],x=J[1],A=Object(a.useState)("success"),B=Object(l.a)(A,2),M=B[0],R=B[1];Object(a.useEffect)(function(){b().then(function(e){u(e)})},[]);var q=function(){var e=t.find(function(e){return e.name===f}),n=Object(o.a)({},e,{number:O});p(e.id,n).then(function(e){u(t.map(function(n){return n.id!==e.id?n:e}))}).catch(function(e){console.log(e.response.data.error),R("error"),x(e.response.data.error),setTimeout(function(){x(null)},5e3)})},z=P?t:t.filter(function(e){return!0===e.name.toLowerCase().includes(S.toLowerCase())});return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(w,{message:L,notificationType:M}),r.a.createElement(m,{newFilter:S,handleFilterChange:function(e){0===e.target.value.length?(D(!0),y("")):(D(!1),y(e.target.value))}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(s,{addName:function(e){e.preventDefault();var n={name:f,number:O};f?O?t.some(function(e){return e.name===f})?window.confirm("".concat(f," is already added to phonebook. Replace the older number with a new one?"))&&(q(),h(""),N(""),R("success"),x("Number for ".concat(f," has been updated")),setTimeout(function(){x(null)},5e3)):v(n).then(function(e){u(t.concat(e)),h(""),N(""),R("success"),x("Added ".concat(f)),setTimeout(function(){x(null)},5e3)}).catch(function(e){R("error"),x(e.response.data.error),setTimeout(function(){x(null)},5e3)}):(R("error"),x("Error: no number was provided"),setTimeout(function(){x(null)},5e3)):(R("error"),x("Error: no name was provided"),setTimeout(function(){x(null)},5e3))},newName:f,handleNameChange:function(e){h(e.target.value)},newNumber:O,handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),z.map(function(e){return r.a.createElement(i,{key:e.id,name:e,deletePerson:function(){return function(e,n){window.confirm("Delete ".concat(n,"?"))&&E(e).then(function(){var a=t.filter(function(n){return n.id!==e});u(a),R("success"),x("".concat(n," successfully removed from the server")),setTimeout(function(){x(null)},5e3)}).catch(function(e){R("error"),x("Information of ".concat(n," has already been removed from the server")),setTimeout(function(){x(null)},5e3)})}(e.id,e.name)}})}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))},7:function(e,n,t){}},[[18,1,2]]]);
//# sourceMappingURL=main.a806c7d1.chunk.js.map